<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>LDBigSegmentsOptions | LaunchDarkly Server-Side Node SDK (6.2.0)</title>
	<meta name="description" content="Documentation for LaunchDarkly Server-Side Node SDK (6.2.0)">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="../assets/js/search.json" data-base="..">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="../index.html" class="title">LaunchDarkly Server-Side Node SDK (6.2.0)</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="../index.html">&quot;launchdarkly-node-server-sdk&quot;</a>
				</li>
				<li>
					<a href="_launchdarkly_node_server_sdk_.ldbigsegmentsoptions.html">LDBigSegmentsOptions</a>
				</li>
			</ul>
			<h1>Interface LDBigSegmentsOptions</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<section class="tsd-panel tsd-comment">
				<div class="tsd-comment tsd-typography">
					<div class="lead">
						<p>Additional parameters for configuring the SDK&#39;s big segments behavior.</p>
					</div>
					<p>&quot;Big segments&quot; are a specific type of user segments. For more information, read the LaunchDarkly
					documentation about user segments: <a href="https://docs.launchdarkly.com/home/users">https://docs.launchdarkly.com/home/users</a></p>
					<dl class="tsd-comment-tags">
						<dt>see</dt>
						<dd><p><a href="_launchdarkly_node_server_sdk_.ldoptions.html#bigsegments">LDOptions.bigSegments</a></p>
						</dd>
					</dl>
				</div>
			</section>
			<section class="tsd-panel tsd-hierarchy">
				<h3>Hierarchy</h3>
				<ul class="tsd-hierarchy">
					<li>
						<span class="target">LDBigSegmentsOptions</span>
					</li>
				</ul>
			</section>
			<section class="tsd-panel-group tsd-index-group">
				<h2>Index</h2>
				<section class="tsd-panel tsd-index-panel">
					<div class="tsd-index-content">
						<section class="tsd-index-section ">
							<h3>Properties</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-property tsd-parent-kind-interface"><a href="_launchdarkly_node_server_sdk_.ldbigsegmentsoptions.html#staleafter" class="tsd-kind-icon">stale<wbr>After</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface"><a href="_launchdarkly_node_server_sdk_.ldbigsegmentsoptions.html#statuspollinterval" class="tsd-kind-icon">status<wbr>Poll<wbr>Interval</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface"><a href="_launchdarkly_node_server_sdk_.ldbigsegmentsoptions.html#store" class="tsd-kind-icon">store</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface"><a href="_launchdarkly_node_server_sdk_.ldbigsegmentsoptions.html#usercachesize" class="tsd-kind-icon">user<wbr>Cache<wbr>Size</a></li>
								<li class="tsd-kind-property tsd-parent-kind-interface"><a href="_launchdarkly_node_server_sdk_.ldbigsegmentsoptions.html#usercachetime" class="tsd-kind-icon">user<wbr>Cache<wbr>Time</a></li>
							</ul>
						</section>
					</div>
				</section>
			</section>
			<section class="tsd-panel-group tsd-member-group ">
				<h2>Properties</h2>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface">
					<a name="staleafter" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagOptional">Optional</span> stale<wbr>After</h3>
					<div class="tsd-signature tsd-kind-icon">stale<wbr>After<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/launchdarkly/node-server-sdk/blob/559d682/index.d.ts#L508">index.d.ts:508</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>The maximum length of time between updates of the big segments data before the data is
							considered out of date, in seconds.</p>
						</div>
						<p>Normally, the LaunchDarkly Relay Proxy updates a timestamp in the big segments store at intervals to
							confirm that it is still in sync with the LaunchDarkly data, even if there have been no changes to the
							If the timestamp falls behind the current time by the amount specified in <code>staleAfter</code>, the SDK
						assumes that something is not working correctly in this process and that the data may not be accurate.</p>
						<p>While in a stale state, the SDK will still continue using the last known data, but the status from
							{@link interfaces.BigSegmentStoreStatusProvider.getStatus} will have <code>stale: true</code>, and any
							<a href="_launchdarkly_node_server_sdk_.ldevaluationreason.html">LDEvaluationReason</a> generated from a feature flag that references a big segment will have a
						<code>bigSegmentsStatus</code> of <code>&quot;STALE&quot;</code>.</p>
						<p>If not specified, the default value is 120 (two minutes). Zero or negative values are changed to
						the default.</p>
					</div>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface">
					<a name="statuspollinterval" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagOptional">Optional</span> status<wbr>Poll<wbr>Interval</h3>
					<div class="tsd-signature tsd-kind-icon">status<wbr>Poll<wbr>Interval<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/launchdarkly/node-server-sdk/blob/559d682/index.d.ts#L489">index.d.ts:489</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>The interval at which the SDK will poll the big segment store to make sure it is available
							and to determine how long ago it was updated, in seconds.</p>
						</div>
						<p>If not specified, the default value is 5. Zero or negative values are changed to the default.</p>
					</div>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface">
					<a name="store" class="tsd-anchor"></a>
					<h3>store</h3>
					<div class="tsd-signature tsd-kind-icon">store<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span>options<span class="tsd-signature-symbol">: </span><a href="_launchdarkly_node_server_sdk_.ldoptions.html" class="tsd-signature-type">LDOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="" class="tsd-signature-type">BigSegmentStore</a></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/launchdarkly/node-server-sdk/blob/559d682/index.d.ts#L451">index.d.ts:451</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>Specifies the storage component that provides big segments data.</p>
						</div>
						<p>This property is mandatory. It must be obtained from one of the SDK&#39;s database integrations,
							such as <a href="https://github.com/launchdarkly/node-server-sdk-redis">https://github.com/launchdarkly/node-server-sdk-redis</a>. You will normally specify a
							database implementation that matches how the LaunchDarkly Relay Proxy is configured, since the
						Relay Proxy manages the big segment data.</p>
					</div>
					<div class="tsd-type-declaration">
						<h4>Type declaration</h4>
						<ul class="tsd-parameters">
							<li class="tsd-parameter-signature">
								<ul class="tsd-signatures tsd-kind-type-literal tsd-parent-kind-property">
									<li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>options<span class="tsd-signature-symbol">: </span><a href="_launchdarkly_node_server_sdk_.ldoptions.html" class="tsd-signature-type">LDOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="" class="tsd-signature-type">BigSegmentStore</a></li>
								</ul>
								<ul class="tsd-descriptions">
									<li class="tsd-description">
										<h4 class="tsd-parameters-title">Parameters</h4>
										<ul class="tsd-parameters">
											<li>
												<h5>options: <a href="_launchdarkly_node_server_sdk_.ldoptions.html" class="tsd-signature-type">LDOptions</a></h5>
											</li>
										</ul>
										<h4 class="tsd-returns-title">Returns <a href="" class="tsd-signature-type">BigSegmentStore</a></h4>
									</li>
								</ul>
							</li>
						</ul>
					</div>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface">
					<a name="usercachesize" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagOptional">Optional</span> user<wbr>Cache<wbr>Size</h3>
					<div class="tsd-signature tsd-kind-icon">user<wbr>Cache<wbr>Size<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/launchdarkly/node-server-sdk/blob/559d682/index.d.ts#L469">index.d.ts:469</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>The maximum number of users whose big segment state will be cached by the SDK at any given time.</p>
						</div>
						<p>To reduce database traffic, the SDK maintains a least-recently-used cache by user key. When a feature
							flag that references a big segment is evaluated for some user who is not currently in the cache, the
							SDK queries the database for all big segment memberships of that user, and stores them together in a
						single cache entry. If the cache is full, the oldest entry is dropped.</p>
						<p>A higher value for <code>userCacheSize</code> means that database queries for big segments will be done
							less often for recently-referenced users, if the application has many users, at the cost of
						increased memory used by the cache.</p>
						<p>Cache entries can also expire based on the setting of <a href="_launchdarkly_node_server_sdk_.ldbigsegmentsoptions.html#usercachetime">userCacheTime</a>.</p>
						<p>If not specified, the default value is 1000.</p>
					</div>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface">
					<a name="usercachetime" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagOptional">Optional</span> user<wbr>Cache<wbr>Time</h3>
					<div class="tsd-signature tsd-kind-icon">user<wbr>Cache<wbr>Time<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/launchdarkly/node-server-sdk/blob/559d682/index.d.ts#L481">index.d.ts:481</a></li>
						</ul>
					</aside>
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<p>The maximum length of time that the big segment state for a user will be cached by the SDK,
							in seconds.</p>
						</div>
						<p>See <a href="_launchdarkly_node_server_sdk_.ldbigsegmentsoptions.html#usercachesize">userCacheSize</a> for more about this cache. A higher value for <code>userCacheTime</code> means
							that database queries for the big segment state of any given user will be done less often, but
						that changes to segment membership may not be detected as soon.</p>
						<p>If not specified, the default value is 5. Negative values are changed to the default.</p>
					</div>
				</section>
			</section>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="current tsd-kind-module">
						<a href="../index.html">&quot;launchdarkly-<wbr>node-<wbr>server-<wbr>sdk&quot;</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-interface tsd-parent-kind-module">
						<a href="_launchdarkly_node_server_sdk_.basicloggeroptions.html" class="tsd-kind-icon">Basic<wbr>Logger<wbr>Options</a>
					</li>
					<li class=" tsd-kind-interface tsd-parent-kind-module">
						<a href="_launchdarkly_node_server_sdk_.filedatasourceoptions.html" class="tsd-kind-icon">File<wbr>Data<wbr>Source<wbr>Options</a>
					</li>
				</ul>
				<ul class="current">
					<li class="current tsd-kind-interface tsd-parent-kind-module">
						<a href="_launchdarkly_node_server_sdk_.ldbigsegmentsoptions.html" class="tsd-kind-icon">LDBig<wbr>Segments<wbr>Options</a>
						<ul>
							<li class=" tsd-kind-property tsd-parent-kind-interface">
								<a href="_launchdarkly_node_server_sdk_.ldbigsegmentsoptions.html#staleafter" class="tsd-kind-icon">stale<wbr>After</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface">
								<a href="_launchdarkly_node_server_sdk_.ldbigsegmentsoptions.html#statuspollinterval" class="tsd-kind-icon">status<wbr>Poll<wbr>Interval</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface">
								<a href="_launchdarkly_node_server_sdk_.ldbigsegmentsoptions.html#store" class="tsd-kind-icon">store</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface">
								<a href="_launchdarkly_node_server_sdk_.ldbigsegmentsoptions.html#usercachesize" class="tsd-kind-icon">user<wbr>Cache<wbr>Size</a>
							</li>
							<li class=" tsd-kind-property tsd-parent-kind-interface">
								<a href="_launchdarkly_node_server_sdk_.ldbigsegmentsoptions.html#usercachetime" class="tsd-kind-icon">user<wbr>Cache<wbr>Time</a>
							</li>
						</ul>
					</li>
				</ul>
				<ul class="after-current">
					<li class=" tsd-kind-interface tsd-parent-kind-module">
						<a href="_launchdarkly_node_server_sdk_.ldclient.html" class="tsd-kind-icon">LDClient</a>
					</li>
					<li class=" tsd-kind-interface tsd-parent-kind-module">
						<a href="_launchdarkly_node_server_sdk_.ldevaluationdetail.html" class="tsd-kind-icon">LDEvaluation<wbr>Detail</a>
					</li>
					<li class=" tsd-kind-interface tsd-parent-kind-module">
						<a href="_launchdarkly_node_server_sdk_.ldevaluationreason.html" class="tsd-kind-icon">LDEvaluation<wbr>Reason</a>
					</li>
					<li class=" tsd-kind-interface tsd-parent-kind-module">
						<a href="_launchdarkly_node_server_sdk_.ldfeaturestore.html" class="tsd-kind-icon">LDFeature<wbr>Store</a>
					</li>
					<li class=" tsd-kind-interface tsd-parent-kind-module">
						<a href="_launchdarkly_node_server_sdk_.ldflagset.html" class="tsd-kind-icon">LDFlag<wbr>Set</a>
					</li>
					<li class=" tsd-kind-interface tsd-parent-kind-module">
						<a href="_launchdarkly_node_server_sdk_.ldflagsstate.html" class="tsd-kind-icon">LDFlags<wbr>State</a>
					</li>
					<li class=" tsd-kind-interface tsd-parent-kind-module">
						<a href="_launchdarkly_node_server_sdk_.ldflagsstateoptions.html" class="tsd-kind-icon">LDFlags<wbr>State<wbr>Options</a>
					</li>
					<li class=" tsd-kind-interface tsd-parent-kind-module">
						<a href="_launchdarkly_node_server_sdk_.ldlogger.html" class="tsd-kind-icon">LDLogger</a>
					</li>
					<li class=" tsd-kind-interface tsd-parent-kind-module">
						<a href="_launchdarkly_node_server_sdk_.ldoptions.html" class="tsd-kind-icon">LDOptions</a>
					</li>
					<li class=" tsd-kind-interface tsd-parent-kind-module">
						<a href="_launchdarkly_node_server_sdk_.ldtlsoptions.html" class="tsd-kind-icon">LDTLSOptions</a>
					</li>
					<li class=" tsd-kind-interface tsd-parent-kind-module">
						<a href="_launchdarkly_node_server_sdk_.lduser.html" class="tsd-kind-icon">LDUser</a>
					</li>
					<li class=" tsd-kind-type-alias tsd-parent-kind-module">
						<a href="../index.html#ldflagvalue" class="tsd-kind-icon">LDFlag<wbr>Value</a>
					</li>
					<li class=" tsd-kind-type-alias tsd-parent-kind-module">
						<a href="../index.html#ldloglevel" class="tsd-kind-icon">LDLog<wbr>Level</a>
					</li>
					<li class=" tsd-kind-function tsd-parent-kind-module">
						<a href="../index.html#filedatasource" class="tsd-kind-icon">File<wbr>Data<wbr>Source</a>
					</li>
					<li class=" tsd-kind-function tsd-parent-kind-module">
						<a href="../index.html#basiclogger" class="tsd-kind-icon">basic<wbr>Logger</a>
					</li>
					<li class=" tsd-kind-function tsd-parent-kind-module">
						<a href="../index.html#init" class="tsd-kind-icon">init</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-namespace"><span class="tsd-kind-icon">Namespace</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
				<li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="../assets/js/main.js"></script>
</body>
</html>